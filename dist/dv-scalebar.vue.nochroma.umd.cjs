(function(n,h){typeof exports=="object"&&typeof module<"u"?module.exports=h(require("vue"),require("chroma-js")):typeof define=="function"&&define.amd?define(["vue","chroma-js"],h):(n=typeof globalThis<"u"?globalThis:n||self,n.Scalebar=h(n.Vue,n.chroma))})(this,function(n,h){"use strict";/**
 * @license
 * https://raw.githubusercontent.com/indus/dv-scalebar/refs/heads/main/dist/dv-scalebar.vue.nochroma.licence.txt
 */const F=["#30123b","#4145ab","#4675ed","#39a2fc","#1bcfd4","#24eca6","#61fc6c","#a4fc3b","#d1e834","#f3c63a","#fe9b2d","#f36315","#d93806","#b11901","#7a0402"],M=[0,.071,.143,.214,.286,.357,.429,.5,.571,.643,.714,.786,.857,.929,1],L=(s,r=0)=>Array.isArray(s)?s:Number.isInteger(s)?Array(s+r).fill(s+r-1).map((e,t)=>t/Math.max(e,1)):(console.warn("expected prop to be 'number[]' or 'int'",s),[]),C=(s,r)=>((r?1-s:s)*100).toFixed(2)+"%",O=(s,r,e=r,t=!1)=>[C(r),s(t?1-e:e).hex()],d=(s,r=!1)=>{if(s===""||s===!0)return!0;if(!s)return;let e=typeof s=="string"||s instanceof String?s.startsWith("[")?JSON.parse(s):s.split(","):Array.isArray(s)?[...s]:[s];return r&&(e=e==null?void 0:e.map(t=>t==""||isNaN(t)?t:+t)),e.length>1?e:e[0]},U=s=>{let{colors:r,labels:e,ticks:t,classes:a,vertical:f,reverse:u,flip:y,before:m,after:b,colorReverse:g,colorMode:k,colorGamma:S,colorCorrectLightness:x,colorPadding:c,colorClass:I,centeredEdgeLabels:_}=s;r=d(r),e=d(e),t=d(t,!0),a=d(a,!0),c=d(c,!0),f=d(f),u=d(u),y=d(y),g=d(g),x=d(x),e===!0&&(Array.isArray(t)?e=[...t]:Array.isArray(a)&&(e=[...a])),u^f&&(Array.isArray(t)&&(t=t.reverse().map(l=>1-l)),Array.isArray(a)&&(a=a.reverse().map(l=>1-l)));let p=null,P=null,T=null,G=null;a===!0&&(t?a=Array.isArray(t)?t:t-1:Array.isArray(e)?a=e==null?void 0:e.length:Array.isArray(r)&&(a=r==null?void 0:r.length));let i;if(r===!0?i=h.scale(F).domain(M):r===void 0?r=["#fff","#000"]:Array.isArray(r)||(r=h.brewer[r]||["#fff",r]),r!==!0&&u^f&&(r=[...r].reverse()),i=i||h.scale(r),k&&(i=i.mode(k)),S&&(i=i.gamma(S)),x&&(i=i.correctLightness()),c&&(i=i.padding(c)),a)switch(I){case"average":i=i.domain([0,1]);break;case"equal":Array.isArray(a)||(a=L(a,1)),i=i.classes([0,...a,1]);break;default:i=i.classes(a);break}if(m===""&&(m=i(f?1:0).hex()),b===""&&(b=i(f?0:1).hex()),!a||Number(a)<=1)P=Array(42).fill(41).map((l,o)=>O(i,o/l,o/l,g));else{let l=L(a,1);if(Array.isArray(l)){let o=l.length-1;P=l.reduce((A,N,B,E)=>{let $=E[B+1],w=(N+$)/2;return B<o&&B&&A.push(O(i,N,w,g)),B<o-1&&A.push(O(i,$,w,g)),A},[]),p=l}}if(t!==void 0){t===!0&&(Array.isArray(p)?t=p:Array.isArray(e)?t=e.length:t=2);let l=L(t);Array.isArray(l)&&(T=l.map(o=>C(o,f)),p=p||l,u^f&&(T=T.reverse()))}if(e!==void 0){if(e===!0)if(p){let o=p.length-(a?1:0);e=Array(o).fill(Math.max(o-1,1)).map((A,N)=>`${parseFloat((N/A).toFixed(2))}`)}else e=["0","1"];Array.isArray(e)||(e=["0",e]),u^f&&Array.isArray(e)&&(e=e.reverse());let l;switch(p&&e.length-p.length){case 0:l=o=>p[o],_=!1;break;case-1:l=o=>(p[o]+p[o+1])/2,_=!0;break;default:e.length>1?(l=o=>o/(e.length-1),_=!1):(l=()=>.5,_=!0);break}G=e.map((o,A)=>[C(f?1-l(A):l(A)),o])}return{stops$:P,ticks$:T,labels$:G,before:m,after:b,vertical:f,klass:`dv-sb${m?" b":""}${b?" a":""}${y?" f":""}${f?" v":" h"}${_?" c":""}`}};let j=0;const q=n.defineComponent({props:{colors:{type:[Boolean,String,Array]},labels:{type:[Boolean,String,Array]},ticks:{type:[Boolean,String,Number,Array]},classes:{type:[Boolean,String,Number,Array]},vertical:{type:Boolean},reverse:{type:Boolean},flip:{type:Boolean},before:{type:String},after:{type:String},colorReverse:{type:Boolean},colorMode:{type:String},colorGamma:{type:Number},colorCorrectLightness:{type:Boolean},colorPadding:{type:[String,Number,Array]},colorClass:{type:String},centeredEdgeLabels:{type:Boolean}},setup(s){const r=j++;return()=>{const{stops$:e,ticks$:t,labels$:a,before:f,after:u,vertical:y,klass:m}=U(s);let b=y?1:0,g=y?0:1,k=y?"translate(-1,1) rotate(-90)":"",S=y?"100%":0,x=y?0:"100%";return n.h("svg",{class:m},[n.h("defs",[n.h("line",{id:`tk${r}`,x1:0,xy:0,x2:b,y2:g}),n.h("linearGradient",{id:`lg${r}`,gradientTransform:k},e==null?void 0:e.map(c=>n.h("stop",{offset:c[0],"stop-color":c[1]})))]),f?n.h("rect",{class:"b",fill:f}):null,n.h("rect",{fill:`url('#lg${r}')`,width:S,height:x}),u?n.h("rect",{class:"a",fill:u,y:S,x}):null,t==null?void 0:t.map(c=>n.h("use",{href:`#tk${r}`,x:y?0:c,y:y?c:0})),a==null?void 0:a.map(c=>n.h("text",{x:y?null:c[0],y:y?c[0]:null},c[1]))])}}});return((s,r)=>{const e=s.__vccOpts||s;for(const[t,a]of r)e[t]=a;return e})(q,[["__scopeId","data-v-f4af1ba2"]])});
